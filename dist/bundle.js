!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){function n(e,t,i){const u=e.type;return"boolean"===u?function({type:e,name:t,labelTrue:n,labelFalse:o}){return{[t]:Math.random()>.5}}(e):"text"===u?function({type:e,name:t,title:n,isRequired:r,inputType:a},s){const i={};i[t]="number"==a?Math.floor(100*Math.random()):o(t,s);return i}(e,t):"radiogroup"===u?function({type:e,name:t,title:n,choices:o}){const a=s(o);return{[t]:r(a)}}(e):"dropdown"===u?function({type:e,name:t,title:n,choices:o}){const a=s(o);return{[t]:r(a)}}(e):"checkbox"===u?function({type:e,name:t,title:n,choices:o}){const r=s(o);return{[t]:a(r)}}(e):"panel"===u?function({elements:e}){let t={};return e.forEach(e=>{t={...t,...n(e)}}),t}(e):"rating"===u?function({type:e,rateValues:t,name:n,rateMax:o}){const a=s(t);return{[n]:r(a)}}(e):"multipletext"===u?function({type:e,name:t,items:n},r,a){console.log(a);const s=n.reduce((e,t)=>({...e,[t.name]:a&&a[t.name]||o(t.name,r)}),{});return{[t]:s}}(e,t,i):"matrixdynamic"===u?function({type:e,name:t,columns:o,choices:r},a,s){const i=s&&s.length||Math.ceil(4*Math.random()),u=[];for(;u.length<i;){let e={};const t=s&&s[u.length];o.forEach(o=>{const s={...o};if(t){const n=t[o.name];if(n)return void(e={...e,[o.name]:n})}s.cellType?s.type=s.cellType:s.type="dropdown","dropdown"!==s.type||s.choices||(s.choices=r),e={...e,...n(s,a)}}),console.log(e),u.push(e)}return console.log("length",u.length),{[t]:u}}(e,t,i):"matrixdropdown"===u?function({columns:e,name:t,rows:o},r,a){const s={};return o.forEach(t=>{let o={};const i=a&&a[t];e.forEach(e=>{const t={...e};if(i){const t=i[e.name];if(t)return void(o={...o,[e.name]:t})}t.cellType?t.type=t.cellType:t.type="dropdown","dropdown"!==t.type||t.choices||(t.choices=choices),o={...o,...n(t,r)}}),console.log(o),s[t]=o}),{[t]:s}}(e,t,i):{}}function o(e="",t){return`Generated ${e} ${t?"case: "+t:""}`}function r(e){return e[Math.floor(Math.random()*e.length)]}function a(e,{prob:t=.5,min:n=0}={}){const o=new Set;for(;o.size<=n;)for(const n of e)Math.random()<t&&o.add(n);return Array.from(o)}function s(e){return e.map(e=>"string"==typeof e||"number"==typeof e?e:e.value)}e.exports={generateResponse:function(e){let t={};return e.pages.forEach(e=>{e.elements.forEach(e=>{t={...n(e),...t}})}),t},handleField:n}},function(e,t,n){"use strict";n.r(t);var o=n(0);Survey.FunctionFactory.Instance.register("matrixColumnHasValue",(function(e){if(!e||3!==e.length)return!1;const t=e[0],n=e[1];let o=e[2];return Array.isArray(o)||(o=[o]),!(!t||!Array.isArray(t))&&o.reduce((e,o)=>e||function(e){for(var o,r=0;r<t.length;r++)if((o=t[r])&&o[n]==e)return!0;return!1}(o),!1)}));const r={state:{isGenerated:!1,survey:new Survey.Model({}),loaded:!1,numberCase:5,constraints:void 0,constrained:!1,loading:!1}};function a(e,t){if("panel"===e.getType())return e.elements.forEach(e=>a(e,t));if("html"===e.getType())return;const n=function(e){if("matrixdropdown"!==e.getType())return!1;const t=e.columns.reduce((e,t)=>({[t.name]:t.defaultValue,...e}),{});return!!Object.keys(t).reduce((e,n)=>e&&void 0!==t[n],!0)}(e);if(console.log(n),(!e.isVisible||e.isAnswered)&&!n)return;const r=e.getConditionJson();r||console.log(e);const s=e.getPlainData().value?JSON.parse(JSON.stringify(e.getPlainData().value)):void 0,i=Object(o.handleField)(r,t,s);e.setNewValueInData(i[e.name])}new Vue({el:"#loader",data:{state:r.state}}),new Vue({el:"#jsonentry",data:{state:r.state,json:null},methods:{generateForm:function(e){const t=new Survey.Model(JSON.parse(this.json));t.isSinglePage=!0,this.state.survey=t,this.state.loaded=!0}}}),new Vue({el:"#surveyContainer",data:{state:r.state}}),new Vue({el:"#generatorButton",data:{state:r.state},methods:{generate:function(e){this.state.loading=!0,setTimeout(()=>{const e=JSON.parse(JSON.stringify(this.state.survey.data));this.state.constrained||(this.state.constraints={...e},this.state.constrained=!0);const t=[];for(let e=0;e<this.state.numberCase;e++){this.state.survey.pages[0].elements.forEach(t=>a(t,e));const n=JSON.parse(JSON.stringify(this.state.survey.data,null,2));e<this.state.numberCase-1&&(this.state.survey.clear(),this.state.survey.data=this.state.constraints),t.push(n)}var n,o,r;console.log(t),n=t,o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),(r=document.getElementById("downloadAnchorElem")).setAttribute("href",o),r.setAttribute("download","possible_results.json"),r.click(),setTimeout(()=>{alert("Possible Results generated")},1e3),this.state.loading=!1},0)}}})}]);