!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){function n(e,t,i){const u=e.type;return"boolean"===u?function({type:e,name:t,labelTrue:n,labelFalse:r}){return{[t]:Math.random()>.5}}(e):"text"===u?function({type:e,name:t,title:n,isRequired:o,inputType:a},s){const i={};i[t]="number"==a?Math.floor(100*Math.random()):r(t,s);return i}(e,t):"radiogroup"===u?function({type:e,name:t,title:n,choices:r}){const a=s(r);return{[t]:o(a)}}(e):"dropdown"===u?function({type:e,name:t,title:n,choices:r}){const a=s(r);return{[t]:o(a)}}(e):"checkbox"===u?function({type:e,name:t,title:n,choices:r}){const o=s(r);return{[t]:a(o)}}(e):"panel"===u?function({elements:e}){let t={};return e.forEach(e=>{t={...t,...n(e)}}),t}(e):"rating"===u?function({type:e,rateValues:t,name:n,rateMax:r}){const a=s(t);return{[n]:o(a)}}(e):"multipletext"===u?function({type:e,name:t,items:n},o,a){console.log(a);const s=n.reduce((e,t)=>({...e,[t.name]:a&&a[t.name]||r(t.name,o)}),{});return{[t]:s}}(e,t,i):"matrixdynamic"===u?function({type:e,name:t,columns:r,choices:o},a,s){const i=s&&s.length||Math.ceil(4*Math.random()),u=[];for(;u.length<i;){let e={};const t=s&&s[u.length];r.forEach(r=>{const s={...r};if(t){const n=t[r.name];if(n)return void(e={...e,[r.name]:n})}s.cellType?s.type=s.cellType:s.type="dropdown","dropdown"!==s.type||s.choices||(s.choices=o),e={...e,...n(s,a)}}),console.log(e),u.push(e)}return console.log("length",u.length),{[t]:u}}(e,t,i):"matrixdropdown"===u?function({columns:e,name:t,rows:r},o,a){const s={};return r.forEach(t=>{let r={};const i=a&&a[t];e.forEach(e=>{const t={...e};if(i){const t=i[e.name];if(t)return void(r={...r,[e.name]:t})}t.cellType?t.type=t.cellType:t.type="dropdown","dropdown"!==t.type||t.choices||(t.choices=choices),r={...r,...n(t,o)}}),console.log(r),s[t]=r}),{[t]:s}}(e,t,i):{}}function r(e="",t){return`Generated ${e} ${t?"case: "+t:""}`}function o(e){return e[Math.floor(Math.random()*e.length)]}function a(e,{prob:t=.5,min:n=0}={}){const r=new Set;for(;r.size<=n;)for(const n of e)Math.random()<t&&r.add(n);return Array.from(r)}function s(e){return e.map(e=>"string"==typeof e||"number"==typeof e?e:e.value)}e.exports={generateResponse:function(e){let t={};return e.pages.forEach(e=>{e.elements.forEach(e=>{t={...n(e),...t}})}),t},handleField:n}},function(e,t,n){"use strict";n.r(t);var r=n(0);Survey.FunctionFactory.Instance.register("matrixColumnHasValue",(function(e){if(!e||3!==e.length)return!1;const t=e[0],n=e[1];let r=e[2];return Array.isArray(r)||(r=[r]),!(!t||!Array.isArray(t))&&r.reduce((e,r)=>e||function(e){for(var r,o=0;o<t.length;o++)if((r=t[o])&&r[n]==e)return!0;return!1}(r),!1)}));const o={state:{isGenerated:!1,survey:new Survey.Model({}),loaded:!1,numberCase:5,constraints:void 0,constrained:!1,loading:!1}};function a(e,t){if(!e.isVisible||e.isAnswered)return;if("panel"===e.getType())return e.elements.forEach(e=>a(e,t));if("html"===e.getType())return;const n=e.getConditionJson();n||console.log(e);const o=e.getPlainData().value?JSON.parse(JSON.stringify(e.getPlainData().value)):void 0,s=Object(r.handleField)(n,t,o);e.setNewValueInData(s[e.name])}new Vue({el:"#loader",data:{state:o.state}}),new Vue({el:"#jsonentry",data:{state:o.state,json:null},methods:{generateForm:function(e){const t=new Survey.Model(JSON.parse(this.json));t.isSinglePage=!0,this.state.survey=t,this.state.loaded=!0}}}),new Vue({el:"#surveyContainer",data:{state:o.state}}),new Vue({el:"#generatorButton",data:{state:o.state},methods:{generate:function(e){this.state.loading=!0,setTimeout(()=>{const e=JSON.parse(JSON.stringify(this.state.survey.data));this.state.constrained||(this.state.constraints={...e},this.state.constrained=!0);const t=[];for(let e=0;e<this.state.numberCase;e++){this.state.survey.pages[0].elements.forEach(t=>a(t,e));const n=JSON.parse(JSON.stringify(this.state.survey.data,null,2));e<this.state.numberCase-1&&(this.state.survey.clear(),this.state.survey.data=this.state.constraints),t.push(n)}var n,r,o;console.log(t),n=t,r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),(o=document.getElementById("downloadAnchorElem")).setAttribute("href",r),o.setAttribute("download","possible_results.json"),o.click(),setTimeout(()=>{alert("Possible Results generated")},1e3),this.state.loading=!1},0)}}})}]);